{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from 'flatpickr';\n// Додатковий імпорт стилів\nimport 'flatpickr/dist/flatpickr.min.css';\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport imageUrl2 from '../img/bi_x-octagon.svg';\n\nconst refs = {\n  btnStart: document.querySelector('.btn-start'),\n  inputTime: document.querySelector('#datetime-picker'),\n  sectionTime: document.querySelector('.field'),\n};\n\nconst timeBlock = {\n  dayBlock: document.querySelector('[data-days]'),\n  hoursBlock: document.querySelector('[data-hours]'),\n  minutesBlock: document.querySelector('[data-minutes]'),\n  secondsBlock: document.querySelector('[data-seconds]'),\n};\n\nlet userSelectedDate;\nlet timeInterval;\n\nrefs.btnStart.disabled = true;\nconst options = {\n  enableTime: true, //Вмикає пікап часу\n  time_24hr: true, //Відображає годинник у 24-годинному режимі без вибору AM/PM, якщо увімкнено.\n  defaultDate: new Date(), //Початкове значення дати\n  minuteIncrement: 1, //Регулювання кроку для введення хвилини (включно з прокруткою)\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n    if (userSelectedDate < new Date()) {\n      iziToast.show({\n        backgroundColor: 'red',\n        message: 'Please choose a date in the future',\n        messageColor: '#fff',\n        messageSize: '16',\n        imageWidth: 302,\n        close: true,\n        closeOnEscape: true,\n        closeOnClick: true,\n        progressBar: true,\n        progressBarColor: '#b51b1b',\n        transitionIn: 'flipInX',\n        transitionOut: 'flipOutX',\n        position: 'topRight',\n        iconUrl: imageUrl2,\n        iconColor: '#FAFAFB',\n      });\n      refs.btnStart.disabled = true;\n    } else {\n      refs.btnStart.disabled = false;\n    }\n  },\n};\nlet ms;\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  return { days, hours, minutes, seconds };\n}\nfunction addLeadingZero({ days, hours, minutes, seconds }) {\n  days = days.toString().padStart(2, '0');\n  hours = hours.toString().padStart(2, '0');\n  minutes = minutes.toString().padStart(2, '0');\n  seconds = seconds.toString().padStart(2, '0');\n  return `${days}:${hours}:${minutes}:${seconds}`;\n}\n\nflatpickr('#datetime-picker', options);\n\nrefs.btnStart.addEventListener('click', () => {\n  timeInterval = setInterval(() => {\n    const currentTime = Date.now();\n    const diff = userSelectedDate - currentTime;\n    const time = convertMs(diff);\n    const str = addLeadingZero(time);\n    timeBlock.dayBlock.textContent = str; //???\n    refs.btnStart.disabled = true;\n  }, 1000);\n  setTimeout(() => {\n    clearInterval(timeInterval);\n  }, userSelectedDate - Date.now());\n});\n"],"names":["refs","timeBlock","userSelectedDate","timeInterval","options","selectedDates","iziToast","imageUrl2","convertMs","ms","days","hours","minutes","seconds","addLeadingZero","flatpickr","currentTime","diff","time","str"],"mappings":"iJAWA,MAAMA,EAAO,CACX,SAAU,SAAS,cAAc,YAAY,EAC7C,UAAW,SAAS,cAAc,kBAAkB,EACpD,YAAa,SAAS,cAAc,QAAQ,CAC9C,EAEMC,EAAY,CAChB,SAAU,SAAS,cAAc,aAAa,EAC9C,WAAY,SAAS,cAAc,cAAc,EACjD,aAAc,SAAS,cAAc,gBAAgB,EACrD,aAAc,SAAS,cAAc,gBAAgB,CACvD,EAEA,IAAIC,EACAC,EAEJH,EAAK,SAAS,SAAW,GACzB,MAAMI,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBH,EAAmBG,EAAc,CAAC,EAC9BH,EAAmB,IAAI,MACzBI,EAAS,KAAK,CACZ,gBAAiB,MACjB,QAAS,qCACT,aAAc,OACd,YAAa,KACb,WAAY,IACZ,MAAO,GACP,cAAe,GACf,aAAc,GACd,YAAa,GACb,iBAAkB,UAClB,aAAc,UACd,cAAe,WACf,SAAU,WACV,QAASC,EACT,UAAW,SACnB,CAAO,EACDP,EAAK,SAAS,SAAW,IAEzBA,EAAK,SAAS,SAAW,EAE5B,CACH,EAEA,SAASQ,EAAUC,EAAI,CAOrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAClE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CACA,SAASC,EAAe,CAAE,KAAAJ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CACzD,OAAAH,EAAOA,EAAK,SAAQ,EAAG,SAAS,EAAG,GAAG,EACtCC,EAAQA,EAAM,SAAQ,EAAG,SAAS,EAAG,GAAG,EACxCC,EAAUA,EAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,EAC5CC,EAAUA,EAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,EACrC,GAAGH,CAAI,IAAIC,CAAK,IAAIC,CAAO,IAAIC,CAAO,EAC/C,CAEAE,EAAU,mBAAoBX,CAAO,EAErCJ,EAAK,SAAS,iBAAiB,QAAS,IAAM,CAC5CG,EAAe,YAAY,IAAM,CAC/B,MAAMa,EAAc,KAAK,MACnBC,EAAOf,EAAmBc,EAC1BE,EAAOV,EAAUS,CAAI,EACrBE,EAAML,EAAeI,CAAI,EAC/BjB,EAAU,SAAS,YAAckB,EACjCnB,EAAK,SAAS,SAAW,EAC1B,EAAE,GAAI,EACP,WAAW,IAAM,CACf,cAAcG,CAAY,CAC3B,EAAED,EAAmB,KAAK,IAAG,CAAE,CAClC,CAAC"}